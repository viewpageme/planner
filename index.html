<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Planner Aktiviti Profesional dengan Login</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin:0; padding:20px;
  background: #4b0000;
  background-image: url('https://www.transparenttextures.com/patterns/technology.png');
  background-repeat: repeat;
  background-size: auto;
}

h1{text-align:center;color:#800000; margin-bottom:30px;}
form{max-width:700px;margin:auto;background:#fff;padding:20px;border-radius:20px;box-shadow:0 5px 15px rgba(0,0,0,0.2); margin-bottom:20px;}
form div{margin-bottom:15px;}
label{display:block;margin-bottom:5px;font-weight:bold;color:#800000;}
input, select, textarea, button{width:100%;padding:10px;border-radius:12px;border:1px solid #ccc;font-size:14px;}
textarea{resize:vertical;}
button{background-color:#800000;color:#fff;padding:12px 20px;border:none;border-radius:12px;cursor:pointer;font-size:16px; transition:0.3s;}
button:hover{background-color:#b30000;}
.calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;margin-bottom:30px;}
.day{border:1px solid #800000;min-height:80px;background:#fff0f0;border-radius:15px;padding:6px;position:relative;box-shadow:0 3px 8px rgba(0,0,0,0.2);}
.day h4{margin:0 0 4px 0;text-align:center;color:#800000; font-weight:bold; font-size:14px;}
.event{margin:2px 0;padding:3px 5px;border-radius:6px;color:#fff;font-size:11px;cursor:pointer;display:flex;align-items:center; gap:2px;}
.event i{font-size:10px;}
img.preview{max-width:60px;max-height:35px;display:block;margin-top:3px;border-radius:5px;}
table{width:100%; border-collapse:collapse; margin-bottom:50px; box-shadow:0 3px 8px rgba(0,0,0,0.2);}
th, td{padding:10px; text-align:center; border:1px solid #800000;}
th{background:linear-gradient(to right,#800000,#b30000); color:#fff;}

/* Responsive Design */
@media (max-width: 768px) {
  .calendar{grid-template-columns:repeat(2,1fr);gap:4px;}
  .day{min-height:70px; padding:4px;}
  h1{font-size:20px;}
  input, select, textarea, button{font-size:12px;padding:8px;}
  img.preview{max-width:40px; max-height:30px;}
  table, th, td{font-size:12px;}
}

@media (max-width: 480px) {
  .calendar{grid-template-columns:repeat(1,1fr);}
  .day{min-height:60px;}
  h1{font-size:18px;}
  input, select, textarea, button{font-size:11px;padding:6px;}
  img.preview{max-width:35px; max-height:25px;}
}
</style>
</head>
<body>

<h1><i class="fas fa-calendar-alt"></i> Planner Aktiviti Profesional</h1>

<div id="loginDiv">
  <form id="loginForm">
    <div><label><i class="fas fa-envelope"></i> Email:</label><input type="email" id="email" required></div>
    <button type="submit"><i class="fas fa-sign-in-alt"></i> Login</button>
  </form>
</div>

<div id="plannerDiv" style="display:none;">
  <div class="calendar" id="calendar"></div>
  <form id="activityForm">
      <input type="hidden" id="editIndex">
      <div><label>Tarikh:</label><input type="date" id="date" required></div>
      <div><label>PIC:</label><select id="pic" required></select></div>
      <div><label>Sekolah:</label><select id="school" required></select></div>
      <div><label>Tugasan:</label><input type="text" id="task" required></div>
      <div><label>Catatan:</label><textarea id="notes" rows="3"></textarea></div>
      <div><label>Muat Naik Gambar:</label><input type="file" id="image" accept="image/*"></div>
      <button type="submit"><i class="fas fa-save"></i> Simpan Aktiviti</button>
  </form>

  <button id="exportBtn"><i class="fas fa-file-export"></i> Export CSV</button>
  <button id="importBtn"><i class="fas fa-file-import"></i> Import CSV</button>
  <input type="file" id="importFile" accept=".csv" style="display:none;" />

  <table>
      <thead>
          <tr><th>Hari</th><th>Tarikh</th><th>PIC</th><th>Sekolah</th><th>Tugasan</th><th>Catatan</th><th>Gambar</th></tr>
      </thead>
      <tbody id="scheduleTable"></tbody>
  </table>
  <button id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</button>
</div>

<script>
/* JavaScript code remains unchanged */
</script>

</body>
</html>
